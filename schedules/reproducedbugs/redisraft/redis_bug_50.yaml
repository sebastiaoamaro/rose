execution_plan:
  setup:
    #With version b9ee410
    script: "/home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/startrediscluster.sh"
    duration: 5
  workload:
    script: /home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/runworkload.sh
  # cleanup:
  #   script: /home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/cleanup.sh
  #   duration: 30

nodes:
  redis1:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.10
    leader: true
    script: "./startredis.sh 1 172.19.1.10"
  redis2:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.11
    script: "./startredis.sh 2 172.19.1.11"
  redis3:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.12
    script: "./startredis.sh 3 172.19.1.12"
  redis4:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.13
    script: "./startredis.sh 4 172.19.1.13"
  redis5:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.14
    script: "./startredis.sh 5 172.19.1.14"

faults:
  # block_ips_redis2:
  #   type: block_ips
  #   target: redis2
  #   traced: redis2
  #   ips_in: 
  #     redis1
  #     redis4
  #   ips_out:
  #     redis1 
  #     redis4
  #   begin_conditions:
  #     time: 10000

  # block_ips_redis3:
  #   type: block_ips
  #   target: redis3
  #   traced: redis3
  #   ips_in: 
  #     redis4
  #     redis5
  #   ips_out: 
  #     redis4
  #     redis5
  #   begin_conditions:
  #     time: 10000

  # block_ips_redis1:
  #   type: block_ips
  #   target: redis1
  #   traced: redis1
  #   ips_in: 
  #     redis2
  #     redis5
  #   ips_out: 
  #     redis2
  #     redis5
  #   begin_conditions:
  #     time: 10000

  # block_ips_redis4:
  #   type: block_ips
  #   target: redis4
  #   traced: redis4
  #   ips_in: 
  #     redis2
  #     redis3
  #   ips_out: 
  #     redis2
  #     redis3
  #   begin_conditions:
  #     time: 10000

  # block_ips_redis5:
  #   type: block_ips
  #   target: redis5
  #   traced: redis5
  #   ips_in: 
  #     redis1
  #     redis3
  #   ips_out: 
  #     redis1
  #     redis3
  #   begin_conditions:
  #     time: 10000

  process_kill0:
    type: process_kill
    target: majority
    traced: redis2
    begin_conditions:
      time: 20000

  process_kill1:
    type: process_kill
    target: redis2
    traced: redis2
    begin_conditions:
      time: 30000