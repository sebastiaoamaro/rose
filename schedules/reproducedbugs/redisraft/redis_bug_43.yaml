execution_plan:
  setup:
    script: "/home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/startrediscluster.sh"
    duration: 30
  # workload:
  #   script: /home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/runworkload.sh

nodes:
  redis1:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.10
    leader: true
    script: "/home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/scripts/startserver1.sh"
  redis2:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.11
    script: "/home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/scripts/startserver2.sh"
  redis3:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.12
    script: "/home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/scripts/startserver3.sh"
  redis4:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.13
    script: "/home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/scripts/startserver4.sh"
  redis5:
    container: true
    binary: /redisraft.so
    leader_symbol: raft_become_leader
    ip: 172.19.1.14
    script: "/home/sebastiaoamaro/phd/torefidevel/schedules/reproducedbugs/redisraft/scripts/startserver5.sh"

faults:
  network_partition:
    type: network_partition
    traced: redis1
    network_partitions:
      partition1: redis1
        redis2
        redis3
      partition2: redis4
        redis5
    begin_conditions:
      time: 5000

  process_kill0:
    type: process_kill
    target: majority
    traced: redis2
    begin_conditions:
      time: 10000
  process_kill1:
    type: process_kill
    target: majority
    traced: redis3
    begin_conditions:
      time: 10000
  process_kill2:
    type: process_kill
    target: majority
    traced: redis4
    begin_conditions:
      time: 10000
