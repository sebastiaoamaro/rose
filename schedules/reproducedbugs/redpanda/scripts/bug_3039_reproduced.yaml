execution_plan:
  maximum_time: 120
  setup:
    script: /vagrant/schedules/reproducedbugs/redpanda/scripts/startcluster.sh
    duration: 10
  workload:
    wait_time: 10
    script: /vagrant/schedules/reproducedbugs/redpanda/scripts/runworkload.sh
  cleanup:
    duration: 60
  tracer:
    tracer_location: /vagrant/rosetracer/target/release/rosetracer
    pipe_location: /tmp/containerpid
    tracing_type: production_trace,container_controlled
nodes:
  redpanda0:
    container: true
  redpanda1:
    container: true
  redpanda2:
    container: true
  redpanda3:
    container: true
  redpanda4:
    container: true

faults:
  process_pause:
    type: process_pause
    target: redpanda1
    traced: redpanda1
    duration: 20000
    begin_conditions:
      - condition1:
          type: user_function
          binary_location: "/opt/redpanda/libexec/redpanda"
          symbol: _ZN5kafka15produce_handler6handleENS_15request_contextEN7seastar17smp_service_groupE
          call_count: 300
      # - condition0:
      #     type: time
      #     time: 35000
  process_pause1:
    type: process_pause
    target: redpanda2
    traced: redpanda2
    duration: 20000
    begin_conditions:
      - condition1:
          type: user_function
          binary_location: "/opt/redpanda/libexec/redpanda"
          symbol: _ZN5kafka15produce_handler6handleENS_15request_contextEN7seastar17smp_service_groupE
          call_count: 300
  #     # - condition0:
  #     #     type: time
  #     #     time: 35000
  process_pause2:
    type: process_pause
    target: redpanda3
    traced: redpanda3
    duration: 20000
    begin_conditions:
      - condition1:
          type: user_function
          binary_location: "/opt/redpanda/libexec/redpanda"
          symbol: _ZN5kafka15produce_handler6handleENS_15request_contextEN7seastar17smp_service_groupE
          call_count: 300
      # - condition0:
      #     type: time
      #     time: 35000
  process_pause3:
    type: process_pause
    target: redpanda4
    traced: redpanda4
    duration: 20000
    begin_conditions:
      - condition1:
          type: user_function
          binary_location: "/opt/redpanda/libexec/redpanda"
          symbol: _ZN5kafka15produce_handler6handleENS_15request_contextEN7seastar17smp_service_groupE
          call_count: 300
      # - condition0:
      #     type: time
      #     time: 35000
